jQuery(function(t){function e(){t(".nome-completo").each(function(){var i=t(this).find("input"),a=i.closest(".form-row"),s=i.closest(".clear").find(".primeiro-nome").find("input"),l=i.closest(".clear").find(".sobrenome").find("input");t(i).keyup(function(){var e="",o="";i.attr("class");val=t.trim(t(this).val()),n(val)?(e=val.substr(0,val.indexOf(" ")),o=val.substr(val.indexOf(" ")+1)):e=val,s.val(t.trim(e)),l.val(t.trim(o)),a.hasClass("invalido")&&c(i)}),i.blur(function(){c(i)})})}function o(s){var e,o;t("#"+s+"_postcode").length&&(e=t("#"+s+"_postcode").val().replace(".","").replace("-",""),o=t("#"+s+"_country").val(),t("#"+s+"_address_1").val(),""!==e&&8===e.length&&"BR"===o&&t.ajax({type:"GET",url:"//viacep.com.br/ws/"+e+"/json/",dataType:"jsonp",crossDomain:!0,contentType:"application/json"}).done(function(e){e.logradouro?t("#"+s+"_address_1").val(e.logradouro).attr("readonly","readonly").change().closest(".form-row").addClass("disabled-input"):t("#"+s+"_address_1").attr("readonly",!1).val("").change().closest(".form-row").removeClass("disabled-input"),e.logradouro?t("#"+s+"_neighborhood").val(e.bairro).attr("readonly","readonly").change().closest(".form-row").addClass("disabled-input"):t("#"+s+"_neighborhood").attr("readonly",!1).val("").change().closest(".form-row").removeClass("disabled-input"),""!==e.localidade?t("#"+s+"_city").val(e.localidade).change():a(val,s,!0,array(t("#"+s+"_city"))),""!==e.uf?(t("#"+s+"_state option:selected").attr("selected",!1).change(),t("#"+s+'_state option[value="'+e.uf+'"]').attr("selected","selected").change(),t("#"+s+"_state").val(e.uf).change()):a(val,s,!0,array(t("#"+s+"_state"))),t("#"+s+"_state").trigger("liszt:updated").trigger("chosen:updated"),t("#"+s+"_number").focus(),t(".cep-notice").length&&t(".cep-notice").remove()}).fail(function(e,o,i){var a;t(".cep-notice").length||(a=t('<div class="cep-notice"><div class="woocommerce-messages alert-color"><div class="message-wrapper"><ul class="woocommerce-error"><li><div class="message-container container"><span class="message-icon icon-close"><strong>CEP</strong> não encontrado. Digite outro CEP ou preencha manualmente o restante das informações do endereço.</span></div></li></ul></div></div></div>'),t("#"+s+"_postcode").focus(),t("#"+s+"_postcode").closest("form.checkout.woocommerce-checkout").prepend(a))}))}var r=function(e){return e=t.trim(e),!!/^[0-9]{5}-[0-9]{3}$/.test(e)},a=function(e,o,a,s){if(void 0===o&&(o="billing"),void 0!==a&&void 0!==s){if(console.log("1"),console.log("force_show: "+a),console.log("fields: "+s),a&&s){console.log("1.1");for(var l=s.length-1;0<=l;l--)s[l].addClass("visivel")}else if(!a&&s){console.log("1.2");for(var n=s.length-1;0<=n;i--)s[n].removeClass("visivel")}}else r(e)?(console.log("key: "+o),console.log("2"),t("#"+o+"_address_1_field, #"+o+"_number_field, #"+o+"_address_2_field, #"+o+"_neighborhood_field, #"+o+"_city_field, #"+o+"_state_field").addClass("visivel")):(console.log("key: "+o),console.log("3"),t("#"+o+"_address_1_field, #"+o+"_number_field, #"+o+"_address_2_field, #"+o+"_neighborhood_field, #"+o+"_city_field, #"+o+"_state_field").removeClass("visivel"))},n=function(e){return 0<=e.indexOf(" ")},c=function(e){var o=e.closest(".form-row");val=t.trim(e.val()),n(val)?o.removeClass("invalido"):o.addClass("invalido")};t(document).ready(function(){t(".cep-mask").find("input").mask("00000-000"),t(".cep-mask-input").mask("00000-000"),t("#billing_postcode").mask("00000-000"),t("#shipping_postcode").mask("00000-000"),t(".fone-mask-input").mask("(00) 90000-0000"),o("billing"),billing_cep_input=t("#billing_postcode"),shipping_cep_input=t("#shipping_postcode"),a(billing_cep_input.val(),"billing"),billing_cep_input.keyup(function(){var e=t(this).val();a(e,"billing"),9===e.length&&(o("billing"),t("body").trigger("update_checkout"))}),a(shipping_cep_input.val(),"shipping"),shipping_cep_input.keyup(function(){var e=t(this).val();a(e,"shipping"),9===e.length&&(o("shipping"),t("body").trigger("update_checkout"))}),t(".address-field").find("input").each(function(){var o=t(this);o.keydown(function(e){"billing_postcode"===o.attr("id")||o.closest(".address-field").hasClass("visivel")||e.preventDefault()})}),e(),t(".disabled-input").each(function(){var e=t(this).find("input, textarea");e.length&&e.attr("readonly","readonly")}),t("#billing_persontype").on("change",function(){var a;t(this).val();0<t("#billing_ie").length&&(a=t("#billing_ie").closest(".form-row ")).closest(".woocommerce-billing-fields__field-wrapper").find(".form-row ").each(function(e){var o,i;t(this).index()>a.index()&&(i="",(o=t(this)).hasClass("form-row-first")?(i=(i=o.attr("class")).replace("first","last"),o.attr("class",i)):o.hasClass("form-row-last")&&(i=(i=o.attr("class")).replace("last","first"),o.attr("class",i)))})}),t(".mobile-sidebar .sidebar-menu .nav").find("a").each(function(){var e=t(this),o=e.next(".toggle");0<o.length&&"#"===e.attr("href")&&e.off().click(function(e){o.click(),e.preventDefault()})})})});